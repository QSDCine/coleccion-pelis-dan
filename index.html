<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>La colecci칩n de pelis de Dan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
  <header class="header">
    <h1 class="app-title">La colecci칩n de pelis de Dan</h1>

  </header>

  <main class="main">
    <section class="intro">
      <p>Bienvenido a tu cat치logo personal de pel칤culas.</p>
    </section>

    <section class="actions">
      <button id="btn-catalog" class="btn-primary" type="button">
        Ver cat치logo
      </button>

      <button id="btn-add" class="btn-secondary" type="button">
        A침adir nueva pel칤cula
      </button>
    </section>
  </main>
 <button id="toggle-theme" class="btn-theme" type="button">游깿</button>
<script type="module" src="js/firebase.js"></script>

<script type="module">
  import { 
    getAuth, 
    GoogleAuthProvider, 
    signInWithRedirect, 
    getRedirectResult 
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const auth = getAuth();
  const provider = new GoogleAuthProvider();

  // 1. Recuperar login tras redirect
  getRedirectResult(auth)
    .then(result => {
      if (result && result.user) {
        console.log("Autenticado tras redirect:", result.user.email);
      }
    })
    .catch(error => console.error("Error redirect:", error));

  // 2. Detectar si ya hay usuario
  auth.onAuthStateChanged(user => {
    if (!user) {
      console.log("No hay usuario, iniciando login...");
      signInWithRedirect(auth, provider);
    } else {
      console.log("Usuario autenticado:", user.email);
    }
  });
</script>

  <script src="js/index.js"></script>
  
</body>

</html>




